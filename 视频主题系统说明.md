# 视频主题系统说明

## 📖 概述

视频主题系统提供了4种预设的视觉风格，每种主题都有独特的标题和字幕展示方式，让您的视频更具个性和专业性。

---

## 🎨 主题方案

### 1. 📚 现代图书模式 (Modern Book) - **默认**

**设计理念**：模拟现代图书的阅读体验

**视觉效果**：
- **标题**：位于顶部20%处，居中显示，全程可见
  - 字体大小：字幕的1.5倍
  - 颜色：**黑色**，白色描边（书本风格）
  - 效果：类似书皮封面
  
- **字幕**：横排追加显示，满屏后翻页
  - 从30%位置开始显示
  - 每句字幕追加到页面上
  - 当前正在说的句子：黑色
  - 已经说过的句子：深灰色（#404040）
  - 满屏后自动清空，开始新页
  - 效果：就像真正在翻书阅读

**适用场景**：知识分享、教程视频、正式内容

---

### 2. 🎬 电影模式 (Cinema)

**设计理念**：营造电影般的观看体验

**视觉效果**：
- **标题**：开头全屏居中显示3秒
  - 字体大小：字幕的2.5倍（超大）
  - 位置：屏幕正中央
  - 持续时间：仅开头3秒
  - 效果：类似电影片头
  
- **字幕**：横排显示在底部
  - 传统电影字幕样式
  - 底部居中对齐

**适用场景**：故事类视频、短片、宣传片

---

### 3. 📜 古书卷轴模式 (Ancient Scroll)

**设计理念**：还原古代卷轴阅读的韵味

**视觉效果**：
- **标题**：右上角竖排显示，全程可见
  - 字体大小：字幕的1.2倍
  - 颜色：棕色（#8B4513），金色描边（#FFD700）
  - 排列：竖直排列
  - 位置：右上角（90%处）
  - 效果：古书标题风格
  
- **字幕**：竖排追加显示，满屏后翻页
  - 排列：竖直排列，从上到下
  - 位置：中间偏右（65%处）
  - 每句字幕追加到页面上
  - 当前正在说的句子：金色（#FFD700）
  - 已经说过的句子：棕色（#8B4513）
  - 满屏后自动清空，开始新页
  - 效果：类似古代卷轴逐字展开

**适用场景**：国学内容、古诗词、传统文化、历史故事

---

### 4. ⚪ 简约模式 (Minimal)

**设计理念**：极简主义，突出内容本身

**视觉效果**：
- **标题**：顶部10%处，居中显示，全程可见
  - 字体大小：字幕的1.8倍
  - 颜色：白色，黑色描边
  - 位置：顶部靠上
  - 效果：简洁大方
  
- **字幕**：横排显示在底部
  - 传统横排文字
  - 底部居中对齐
  - 简洁清晰

**适用场景**：演讲视频、访谈、产品介绍、极简风格内容

---

## 🎯 使用方法

### 在WebUI中选择主题

1. 打开视频生成页面
2. 在右侧面板找到 **"字幕设置"** 区域
3. 第一个选项即为 **"视频主题模式"**
4. 从下拉菜单中选择以下之一：
   - 📚 现代图书（默认）
   - 🎬 电影模式
   - 📜 古书卷轴
   - ⚪ 简约模式
5. 下方会显示所选主题的说明
6. 点击"生成视频"即可

---

## 💡 主题对比表

| 特性 | 现代图书 | 电影模式 | 古书卷轴 | 简约模式 |
|------|---------|---------|---------|---------|
| **标题位置** | 顶部20% | 居中（仅3秒） | 右上角竖排 | 顶部10% |
| **标题持续** | 全程 | 开头3秒 | 全程 | 全程 |
| **标题颜色** | **黑色** | 白色 | 棕色+金边 | 白色 |
| **字幕方向** | 横排 | 横排 | **竖排** | 横排 |
| **字幕样式** | **追加+翻页** | 传统 | **追加+翻页** | 传统 |
| **特殊效果** | 满屏翻页 | 大字体开场 | **逐字高亮** | 极简 |
| **视觉风格** | 现代书籍 | 电影感 | **古典卷轴** | 简约 |
| **推荐用途** | 知识分享 | 故事短片 | **传统文化** | 演讲访谈 |

---

## 🔧 技术实现

### 主题枚举定义

```python
class VideoTheme(str, Enum):
    modern_book = "modern_book"      # 现代图书
    cinema = "cinema"                # 电影模式
    ancient_scroll = "ancient_scroll"  # 古书卷轴
    minimal = "minimal"              # 简约模式
```

### 核心功能

1. **`create_accumulated_subtitles_for_book_theme()`** ⭐ 新增
   - 为古书和现代书记模式创建追加显示字幕
   - 实现满屏翻页效果
   - 区分当前句子和历史句子的颜色
   - 横排/竖排自动适配

2. **`create_title_clips_for_theme()`**
   - 根据主题创建不同样式的标题文本块
   - 处理字体大小、颜色、位置、持续时间
   - 支持竖排和横排文字

3. **`create_vertical_text_clips()`**
   - 专为特殊效果设计
   - 实现竖排文字布局
   - 实现逐字高亮效果（金色闪烁）
   - 计算每个字的显示时间和位置

4. **`generate_video()`**
   - 主视频生成函数
   - 根据主题参数调用相应函数
   - 合成标题、字幕和视频

---

## 🎨 自定义建议

如果您想调整某个主题的样式，可以修改以下参数：

### 标题样式
- `title_font_size`：标题字体大小倍数
- `title_stroke_width`：标题描边宽度倍数
- 颜色配置：在 `create_title_clips_for_theme()` 中修改

### 字幕样式
- `font_size`：基础字体大小（在WebUI中设置）
- `stroke_width`：描边宽度（在WebUI中设置）
- 位置配置：在主题函数中修改百分比

### 古书卷轴特殊效果
- 高亮颜色：`#FFD700`（金色）
- 放大倍数：`1.1`
- 描边颜色：`#8B4513`（棕色）

---

## 📝 示例场景

### 场景1：唐诗朗读
**推荐主题**：📜 古书卷轴
- 标题：诗词标题竖排在右上角
- 字幕：诗句竖排，逐字金色高亮
- 效果：古韵十足，仿佛打开一卷古书

### 场景2：知识科普
**推荐主题**：📚 现代图书
- 标题：主题明确显示在顶部
- 字幕：清晰横排在底部
- 效果：专业、易读

### 场景3：微电影短片
**推荐主题**：🎬 电影模式
- 标题：开头震撼大字展示
- 字幕：底部字幕不遮挡画面
- 效果：电影感十足

### 场景4：人物演讲
**推荐主题**：⚪ 简约模式
- 标题：简洁清晰
- 字幕：不喧宾夺主
- 效果：专注内容本身

---

## ⚠️ 注意事项

1. **字体选择**：
   - 古书卷轴模式建议使用毛笔字体（如霞鹜文楷）
   - 其他模式可以选择任何字体

2. **视频比例**：
   - 竖屏视频（9:16）：古书卷轴效果最佳
   - 横屏视频（16:9）：电影模式效果最佳

3. **字幕长度**：
   - 古书卷轴模式下，过长的字幕可能超出屏幕
   - 建议每句字幕控制在10-15字以内

4. **性能**：
   - 古书卷轴的高亮效果会增加渲染时间（约10-15%）
   - 其他模式性能影响不大

---

## 🚀 未来扩展

可以考虑添加的新主题：
- 🌸 日式和风：樱花飘落效果
- 🎮 赛博朋克：霓虹灯效果
- 🎨 涂鸦风：手绘风格字幕
- 📰 新闻播报：滚动字幕效果

---

## 📞 技术支持

如有问题或建议，欢迎反馈！

**作者**：MoneyPrinterTurbo Team  
**版本**：v1.0  
**日期**：2025-11-08
